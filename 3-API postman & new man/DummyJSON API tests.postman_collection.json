{
  "info": {
    "_postman_id": "c191d1e9-4e25-47e8-a0c5-5c6354bab902",
    "name": "DummyJSON API tests",
    "description": "Ready-to-submit Postman collection for DummyJSON: Auth, Products, Carts, Users + negative tests + data-driven request.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "44602256"
  },
  "item": [
    {
      "name": "0-Auth",
      "item": [
        {
          "name": "1 - Login and store tokens",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
                  "const json = pm.response.json();",
                  "pm.expect(json).to.have.property(\"accessToken\");",
                  "pm.environment.set(\"accessToken\", json.accessToken);",
                  "if (json.refreshToken) pm.environment.set(\"refreshToken\", json.refreshToken);",
                  "pm.test(\"accessToken saved to environment\", () => {",
                  "  pm.expect(pm.environment.get(\"accessToken\")).to.be.ok;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"emilys\",\n  \"password\": \"emilyspass\",\n  \"expiresInMins\": \"{{expiresInMins}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "2 - Get current auth user (Bearer)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
                  "const json = pm.response.json();",
                  "pm.expect(json).to.have.property(\"id\");",
                  "pm.expect(json).to.have.property(\"username\");"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/auth/me",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "me"
              ]
            }
          },
          "response": []
        },
        {
          "name": "3 - Refresh tokens",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Refresh token response is valid (demo API behavior)\", function () {",
                  "  pm.expect(pm.response.code).to.be.oneOf([200, 401, 403]);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "  const json = pm.response.json();",
                  "  pm.test(\"New accessToken exists\", function () {",
                  "    pm.expect(json).to.have.property(\"accessToken\");",
                  "  });",
                  "} else {",
                  "  const json = pm.response.json();",
                  "  pm.test(\"Refresh rejected with message\", function () {",
                  "    pm.expect(json).to.have.property(\"message\");",
                  "  });",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\",\n  \"expiresInMins\": \"{{expiresInMins}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/refresh",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "refresh"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "1-Products",
      "item": [
        {
          "name": "1 - Get all products",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
                  "const json = pm.response.json();",
                  "pm.expect(json).to.have.property(\"products\");",
                  "pm.expect(json.products).to.be.an(\"array\");",
                  "pm.expect(json).to.have.property(\"total\");",
                  "pm.expect(json).to.have.property(\"skip\");",
                  "pm.expect(json).to.have.property(\"limit\");"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products"
              ]
            }
          },
          "response": []
        },
        {
          "name": "2 - Get products with limit",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
                  "const json = pm.response.json();",
                  "pm.expect(json.limit).to.eql(10);",
                  "pm.expect(json.skip).to.eql(0);"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products?limit=10&skip=0",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "skip",
                  "value": "0"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "3 - Get single product by id",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
                  "const json = pm.response.json();",
                  "pm.expect(json).to.have.property(\"id\");",
                  "pm.expect(String(json.id)).to.eql(String(pm.environment.get(\"productId\")));",
                  "pm.expect(json).to.have.property(\"title\");"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products/{{productId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "{{productId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "4 - Negative: Get product invalid id",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('4xx returned', () => pm.expect(pm.response.code).to.be.oneOf([400,404]));"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products/0",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "0"
              ]
            }
          },
          "response": []
        },
        {
          "name": "5 - Search products",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
                  "const json = pm.response.json();",
                  "pm.expect(json).to.have.property(\"products\");",
                  "pm.expect(json.products).to.be.an(\"array\");"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products/search?q={{searchTerm}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "search"
              ],
              "query": [
                {
                  "key": "q",
                  "value": "{{searchTerm}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "6 - Negative: Search with invalid query",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
                  "const json = pm.response.json();",
                  "pm.expect(json).to.have.property(\"products\");",
                  "pm.expect(json.products).to.be.an(\"array\");"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products/search?q=zzzzzzzzzz",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "search"
              ],
              "query": [
                {
                  "key": "q",
                  "value": "zzzzzzzzzz"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "7 - Add product",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status is 200 or 201\", () => pm.expect(pm.response.code).to.be.oneOf([200,201]));",
                  "const json = pm.response.json();",
                  "pm.expect(json).to.have.property(\"id\");",
                  "pm.environment.set(\"newProductId\", json.id);"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"QA Test Product\",\n  \"description\": \"Created by Postman automation\",\n  \"price\": 123,\n  \"brand\": \"QA\",\n  \"category\": \"smartphones\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/products/add",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "add"
              ]
            }
          },
          "response": []
        },
        {
          "name": "8 - Update product",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200',()=>pm.response.to.have.status(200)); pm.expect(pm.response.json()).to.have.property('title');"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"QA Updated Title\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/products/{{productId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "{{productId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "9 - Partial update product",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200',()=>pm.response.to.have.status(200)); pm.expect(pm.response.json()).to.have.property('price');"
                ]
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"price\": 999\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/products/{{productId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "{{productId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "10 - Delete product",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200',()=>pm.response.to.have.status(200)); pm.expect(pm.response.json()).to.have.property('isDeleted');"
                ]
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products/{{productId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "{{productId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "11 - Data-driven: Get product by CSV id",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));",
                  "const json = pm.response.json();",
                  "pm.expect(json).to.have.property(\"id\");",
                  "pm.expect(String(json.id)).to.eql(String(pm.iterationData.get(\"id\")));"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "console.log(\"CSV id =\", pm.iterationData.get(\"id\"));\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products/{{id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "{{id}}"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "2-Carts",
      "item": [
        {
          "name": "1 - Get all carts",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status 200\", () => pm.response.to.have.status(200));",
                  "const json = pm.response.json();",
                  "pm.expect(json).to.have.property(\"carts\");",
                  "pm.expect(json.carts).to.be.an(\"array\");",
                  "pm.expect(json).to.have.property(\"total\");"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/carts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "carts"
              ]
            }
          },
          "response": []
        },
        {
          "name": "2 - Get single cart",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200',()=>pm.response.to.have.status(200)); pm.expect(pm.response.json()).to.have.property('id');"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/carts/{{cartId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "carts",
                "{{cartId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "3 - Get carts by user",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200',()=>pm.response.to.have.status(200)); pm.expect(pm.response.json()).to.have.property('carts');"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/carts/user/{{userId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "carts",
                "user",
                "{{userId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "4 - Add cart",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status is 200 or 201\", () => pm.expect(pm.response.code).to.be.oneOf([200,201]));",
                  "const json = pm.response.json();",
                  "pm.expect(json).to.have.property(\"id\");",
                  "pm.environment.set(\"newCartId\", json.id);",
                  "pm.expect(json).to.have.property(\"products\");"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"products\": [\n    {\n      \"id\": 1,\n      \"quantity\": 2\n    },\n    {\n      \"id\": 2,\n      \"quantity\": 1\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/carts/add",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "carts",
                "add"
              ]
            }
          },
          "response": []
        },
        {
          "name": "5 - Update cart",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200',()=>pm.response.to.have.status(200));"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"merge\": true,\n  \"products\": [\n    {\n      \"id\": 1,\n      \"quantity\": 1\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/carts/{{cartId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "carts",
                "{{cartId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "6 - Delete cart",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200',()=>pm.response.to.have.status(200)); pm.expect(pm.response.json()).to.have.property('isDeleted');"
                ]
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/carts/{{cartId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "carts",
                "{{cartId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "7 - Negative: Get cart invalid id",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('4xx returned', () => pm.expect(pm.response.code).to.be.oneOf([400,404]));"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/carts/0",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "carts",
                "0"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "3-Users",
      "item": [
        {
          "name": "1 - Get all users",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200',()=>pm.response.to.have.status(200)); pm.expect(pm.response.json()).to.have.property('users');"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "users"
              ]
            }
          },
          "response": []
        },
        {
          "name": "2 - Get single user",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200',()=>pm.response.to.have.status(200)); pm.expect(pm.response.json()).to.have.property('id');"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "users",
                "{{userId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "3 - Search users",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200',()=>pm.response.to.have.status(200)); pm.expect(pm.response.json()).to.have.property('users');"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/search?q=John",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "users",
                "search"
              ],
              "query": [
                {
                  "key": "q",
                  "value": "John"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "4 - Negative: Get user invalid id",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('4xx returned',()=>pm.expect(pm.response.code).to.be.oneOf([400,404]));"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/0",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "users",
                "0"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "4-Negative",
      "item": [
        {
          "name": "1 - Negative: Login wrong password",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Unauthorized',()=>pm.expect(pm.response.code).to.be.oneOf([400,401]));"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"emilys\",\n  \"password\": \"wrongpass\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "2 - Negative: Add product missing title",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Validation/Client error or simulated success\", function () {\r",
                  "  pm.expect(pm.response.code).to.be.oneOf([201, 400, 422]);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"missing title\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/products/add",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "add"
              ]
            }
          },
          "response": []
        }
      ]
    }
  ]
}